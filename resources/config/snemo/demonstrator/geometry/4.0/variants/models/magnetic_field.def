# -*- mode: conf-unix -*-
#  @falaise:config/snemo/demonstrator/geometry/4.0/models/source_module/variants/models/magnetic_field.def
# Description of variants for the definition of the magnetic field (format: datatools::multi_properties)

#@description The definitions for variant parameters related to the magnetic field
#@key_label  "name"
#@meta_label "type"

# Tree of variants:
#
# magnetic_field.VM
# +-- active : on_off_mag_field.PM
#     +-- if_active (true)
#         +-- mag_field_desc.VM
#            +-- type : mag_field_type.PM
#                +-- is_mapped (MappedField)
#                |   +-- mapped_mag_field.VM
#                +-- is_uniform_vertical (UniformVerticalField)
#                    +-- uniform_vertical_mag.VM
#                        +-- intensity : mag_field_intensity.PM
#


#####################################################
[name="magnetic_field.intensity.PM" type="parameter"]

#@config A parameter model describing the amplitude of the magnetic field

#@description The display name of this variant
display_name        : string = "Magnetic field intensity"

#@description A short description of the variant
terse_description   : string = "The intensity of the magnetic field"

#@description The type of the parameter
type                : string = "real"

#@description The unit label
real.unit_label     : string = "magnetic_flux_density"

#@description The preferred unit
real.preferred_unit : string = "gauss"

#@description The mutability of the parameter
mutability          : string = "variable"

#@description The mutability mode of the parameter
variable.mode       : string = "interval"

#@description The domain of supported values
real.domain         : string = "[0.1 gauss, 100 gauss]"

#@description The default value
real.default        : real as magnetic_flux_density = 25 gauss


##########################################################
[name="magnetic_field.uniform_vertical.VM" type="variant"]

#@config A variant model describing the parameters for the uniform vertical magnetic field

#@description The display name of this variant
display_name       : string = "Uniform vertical magnetic field"

#@description A short description of the variant
terse_description  : string = "The configuration parameters for the uniform vertical magnetic field"

#@description The list of variant parameters
parameters : string[1] = "intensity"

parameters.intensity.model       : string = "magnetic_field.intensity.PM"
parameters.intensity.description : string = "The intensity of the magnetic field"


########################################################
[name="magnetic_field.mapping_file.PM" type="parameter"]

#@config A parameter model describing the mapping file of the mapped magnetic field

#@description The display name of this variant
display_name        : string = "Magnetic field mapping file"

#@description A short description of the variant
terse_description   : string = "The  mapping file of the magnetic field"

#@description The type of the parameter
type                : string = "string"

#@description The mutability of the parameter
mutability          : string = "variable"

#@description The mutability mode of the parameter
variable.mode       : string = "enumeration"

#@description The number of supported values
string.enumerated.size    : integer = 1

# The list of supported values:
string.enumerated_0.value : string = "@falaise:config/snemo/demonstrator/geometry/4.0/plugins/magnetic_field/data/csv_map_0/MapSmoothPlusDetail.csv"

#@description The default value
string.default            : string = "@falaise:config/snemo/demonstrator/geometry/4.0/plugins/magnetic_field/data/csv_map_0/MapSmoothPlusDetail.csv"


################################################
[name="magnetic_field.mapped.VM" type="variant"]

#@config A variant model describing the parameters for the mapped magnetic field

#@description The display name of this variant
display_name       : string = "Mapped magnetic field"

#@description A short description of the variant
terse_description  : string = "The configuration parameters for the mapped magnetic field"

# #@description The list of variant parameters
# parameters : string[1] = "map_file"

# parameters.map_file.model       : string = "magnetic_field.mapping_file.PM"
# parameters.map_file.description : string = "The mapping file of the mapped magnetic field"


################################################
[name="magnetic_field.type.PM" type="parameter"]

#@config A parameter describing the type of magnetic field

#@description The display name of this parameter
display_name              : string = "Type of magnetic field"

#@description A short description of the parameter
terse_description         : string = "The type of magnetic field"

#@description The type of the parameter
type                      : string = "string"

#@description The mutability of the parameter
mutability                : string = "variable"

#@description The mutability mode of the parameter
variable.mode             : string = "enumeration"

#@description The number of supported values
string.enumerated.size    : integer = 2

# The list of supported values:
string.enumerated_0.value : string = "UniformVertical"
string.enumerated_1.value : string = "Mapped"

#@description The default value
string.default            : string = "UniformVertical"

#@description The list of variants
variants : string[2] = "is_uniform_vertical" "is_mapped"

variants.is_uniform_vertical.model       : string = "magnetic_field.uniform_vertical.VM"
variants.is_uniform_vertical.description : string = "Set of parameters for the uniform vertical magnetic field"

variants.is_mapped.model                 : string = "magnetic_field.mapped.VM"
variants.is_mapped.description           : string = "Set of parameters for the mapped magnetic field"

string.enumerated_0.variant : string = "is_uniform_vertical"
string.enumerated_1.variant : string = "is_mapped"


##############################################
[name="magnetic_field.desc.VM" type="variant"]

#@config A variant model describing the active magnetic field

#@description The display name of this variant
display_name       : string = "Description of the magnetic field"

#@description A short description of the variant
terse_description  : string = "The description of the magnetic field"

#@description The list of variant parameters
parameters : string[1] = "type"

parameters.type.model       : string = "magnetic_field.type.PM"
parameters.type.description : string = "The type of the magnetic field"


##################################################
[name="magnetic_field.on_off.PM" type="parameter"]

#@config A parameter model describing the activation of the magnetic field

#@description The display name of this variant
display_name        : string = "Magnetic field activation"

#@description A short description of the variant
terse_description   : string = "The activation of the magnetic field "

#@description The type of the parameter
type                : string = "boolean"

#@description The mutability of the parameter
mutability          : string = "variable"

#@description The default value
boolean.default     : boolean = true

#@description List of variants
variants : string [1] = "if_active"

#@description The variant model associated to the "if_active" variant
variants.if_active.model       : string = "magnetic_field.desc.VM"

#@description The description of the "if_active" variant
variants.if_active.description : string = "Set of parameters for activated magnetic field"

#@description Variant associated to the magnetic field activation
boolean.true.variant : string = "if_active"


#########################################
[name="magnetic_field.VM" type="variant"]

#@config A variant model describing the parameters for the magnetic field

#@description The display name of this variant
display_name       : string = "Source strips"

#@description A short description of the variant
terse_description  : string = "The configuration parameters for the magnetic field"

#@description The list of variant parameters
parameters : string[1] = "active"

parameters.active.model       : string = "magnetic_field.on_off.PM"
parameters.active.description : string = "The activation flag of the magnetic field"


# end of @falaise:config/snemo/demonstrator/geometry/4.0/models/source_module/variants/models/magnetic_field.def